# Slackware Linux removepkg completion                     -*- shell-script -*-

_removepkg()
{
    local cur prev words cword comp_args
    _comp_initialize -- "$@" || return
    if [[ $cur == -* ]]; then
        COMPREPLY=($(compgen -W '-copy -keep -preserve -warn' -- "$cur"))
        return
    fi

    if _comp_looks_like_path "$cur"; then
        _filedir
        return
    fi

    local root=${ROOT:-/}
    _filedir -C "$root/var/log/packages"
} &&
    complete -F _removepkg removepkg

# ex: filetype=sh
